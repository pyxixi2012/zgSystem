a1.sources = r1
a1.sinks = k1 k2 k3
a1.channels = c1 c2 c3

#Describe/configure the source
a1.sources.r1.type= http
a1.sources.r1.host = 0.0.0.0
a1.sources.r1.port= 50004
a1.sources.r1.channels= c1 c2 c3
#alex
a1.sources.r1.selector.type = multiplexing
a1.sources.r1.selector.header = type
#映射允许每个值通道可以重叠。默认值可以包含任意数量的通道。
a1.sources.r1.selector.mapping.applog = c1
a1.sources.r1.selector.mapping.sms = c2
a1.sources.r1.selector.mapping.email = c3
a1.sources.r1.selector.default = c1

#Describe the mongodb sink 1
a1.sinks.k1.type = org.riderzen.flume.sink.MongoSink
a1.sinks.k1.host = 192.168.1.215
a1.sinks.k1.port = 50000
a1.sinks.k1.model = single
a1.sinks.k1.db = logdb
a1.sinks.k1.collection = logtable
a1.sinks.k1.batch = 100
a1.sinks.k1.channel = c1

#sink for kafka sms consumer
a1.sinks.k2.type = org.apache.flume.sink.kafka.KafkaSink
a1.sinks.k2.topic = sms
a1.sinks.k2.brokerList = 192.168.1.215:9092
a1.sinks.k2.requiredAcks = 1
a1.sinks.k2.batchSize = 20
a1.sinks.k2.channel = c2

#sink for kafka email consumer
a1.sinks.k3.type = org.apache.flume.sink.kafka.KafkaSink
a1.sinks.k3.topic = email
#config kafka sink to kafka broker directly
a1.sinks.k3.brokerList = 192.168.1.215:9092
#config kafka sink to zookeeper cluster
a1.sinks.k3.zookeeperConnect = 192.168.1.215:2181
a1.sinks.k3.requiredAcks = 1
a1.sinks.k3.batchSize = 20
a1.sinks.k3.channel = c3

#Describe the mongodb sink 2
#a1.sinks.k2.type = org.riderzen.flume.sink.MongoSink
#a1.sinks.k2.host = 192.168.1.215
#a1.sinks.k2.port = 50000
#a1.sinks.k2.model = single
#a1.sinks.k2.db = logdb
#a1.sinks.k2.collection = logtable_1
#a1.sinks.k2.batch = 100
#a1.sinks.k2.channel = c2
##Use a channel which buffers events in memory
a1.channels.c1.type = memory
a1.channels.c1.capacity = 1000
a1.channels.c1.transactionCapacity = 100
a1.channels.c2.type = memory
a1.channels.c2.capacity = 1000
a1.channels.c2.transactionCapacity = 100
a1.channels.c3.type = memory
a1.channels.c3.capacity = 1000
a1.channels.c3.transactionCapacity = 100

#a1.sinks.k2.type = file_roll
#a1.sinks.k2.sink.directory = /data/work/app/logprog/logs
#a1.sinks.k2.type = logger
#a1.sinks.k2.channel = c2
